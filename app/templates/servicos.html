{% extends "base.html" %}

{% block title %}Servi√ßos ‚Äî {{ empresa.nome }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">üíÖ Servi√ßos da empresa {{ empresa.nome }}</h2>

  <form action="/servicos/{{ empresa.id }}/novo" method="post" class="row g-2 mb-4">
    <div class="col-md-3">
      <input class="form-control" name="nome" placeholder="Nome do servi√ßo" required>
    </div>
    <div class="col-md-3">
      <input class="form-control" name="preco" type="number" step="0.01" placeholder="Pre√ßo (R$)" required>
    </div>
    <div class="col-md-4">
      <input class="form-control" name="descricao" placeholder="Descri√ß√£o opcional">
    </div>
    <div class="col-md-2 d-grid">
      <button class="btn btn-primary">Adicionar</button>
    </div>
  </form>

  <div class="card shadow-sm">
    <div class="card-header bg-light">
      <h5 class="mb-0">Servi√ßos cadastrados</h5>
    </div>
    <div class="card-body p-0">
      <table class="table table-striped table-hover mb-0">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Pre√ßo (R$)</th>
            <th>Descri√ß√£o</th>
            <th class="text-center">A√ß√µes</th>
          </tr>
        </thead>
        <tbody>
          {% for s in servicos %}
          <tr>
            <td>{{ s.id }}</td>
            <td>{{ s.nome }}</td>
            <td>{{ "%.2f"|format(s.preco) }}</td>
            <td>{{ s.descricao }}</td>
            <td class="text-center">
              <a href="/servicos/{{ empresa.id }}/excluir/{{ s.id }}" class="btn btn-sm btn-outline-danger">
                Excluir
              </a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-center text-muted py-3">Nenhum servi√ßo cadastrado.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <a href="/dashboard/{{ empresa.id }}" class="btn btn-secondary mt-4">‚Üê Voltar ao Painel</a>
</div>
{% endblock %}
